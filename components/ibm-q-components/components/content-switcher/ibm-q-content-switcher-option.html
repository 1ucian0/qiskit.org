<!--
@license
Copyright (c) 2017 The IBM Research authors. All rights reserved.
This code may only be used under the MIT style license found at https://ibmresearch.github.io/LICENSE.txt
The complete set of authors may be found at https://ibmresearch.github.io/AUTHORS.txt
The complete set of contributors may be found at https://ibmresearch.github.io/CONTRIBUTORS.txt
-->

<link rel="import" href="../../../polymer/polymer-element.html">
<link rel="import" href="../../../iron-behaviors/iron-button-state.html">
<link rel="import" href="../styles/default-theme.html">
<link rel="import" href="../styles/typography.html">

<dom-module id="ibm-q-content-switcher-option">
  <template>
    <style>
      :host {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-size: 0.875rem;
        background-color: transparent;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        padding: 0 2rem;
        margin: 0;
        text-decoration: none;
        border: 1px solid var(--primary-color);
        color: var(--primary-color);
      }

      :host(:focus) {
        outline: 1px solid transparent;
        box-shadow: 0 2px 0 0 #7cc7ff, 0 -2px 0 0 #7cc7ff;
        background-color: var(--light-primary-color);
        z-index: 2;
        border-color: var(--light-primary-color);
        text-decoration: underline;
        color: var(--inverse-01);
      }

      :host(:hover) {
        cursor: pointer;
      }

      :host(:hover),
      :host(:active) {
        background-color: var(--primary-color);
        border-color: var(--light-primary-color);
        color: var(--inverse-01);
      }

      :host(:not(:last-of-type)) {
        border-right: none;
      }

      :host(:not(:first-of-type)) {
        border-left: 1px solid var(--primary-color);
      }

      :host(:first-of-type) {
        border-bottom-left-radius: 8px;
        border-top-left-radius: 8px;
      }

      :host(:first-of-type:hover) {
        border-color: var(--light-primary-color);
      }

      :host(:first-of-type:focus) {
        box-shadow: -2px 0 0 0 #7cc7ff, 0 2px 0 0 #7cc7ff, 0 -2px 0 0 #7cc7ff;
        z-index: 0;
      }

      :host(:last-of-type) {
        border-top-right-radius: 8px;
        border-bottom-right-radius: 8px;
      }

      :host(:last-of-type:hover) {
        border-color: var(--light-primary-color);
      }

      :host(:last-of-type:focus) {
        box-shadow: 2px 0 0 0 #7cc7ff, 0 2px 0 0 #7cc7ff, 0 -2px 0 0 #7cc7ff;
        z-index: 0;
      }

      :host(.selected) {
        background-color: var(--primary-color);
        color: var(--inverse-01);
        font-weight: 400;
        outline: 1px solid transparent;
      }

      :host(.selected:hover) {
        border-color: var(--primary-color);
      }
    </style>

    <slot></slot>
  </template>

  <script>
    (function() {
      /**
       * `<ibm-q-content-switcher-option>` is a Web Component providing each option
       * of a content-switcher
       *
       * ```html
       * <ibm-q-content-switcher selected="0">
       *   <ibm-q-content-switcher-option>Content 1</ibm-q-content-switcher-option>
       *   <ibm-q-content-switcher-option>Content 2</ibm-q-content-switcher-option>
       *   <ibm-q-content-switcher-option>Content 3</ibm-q-content-switcher-option>
       * </ibm-q-content-switcher>
       * ```
       *
       * @memberof IBMQ
       * @extends Polymer.Element
       */
      class ContentSwitcherOptionElement extends Polymer.mixinBehaviors(
        [Polymer.IronButtonState],
        Polymer.Element
      ) {
        static get is() {
          return 'ibm-q-content-switcher-option';
        }

        ready() {
          super.ready();

          this.setAttribute('role', 'option');
        }
      }

      customElements.define(ContentSwitcherOptionElement.is, ContentSwitcherOptionElement);

      /**
       * @namespace IBMQ
       */
      window.IBMQ = window.IBMQ || {};
      IBMQ.ContentSwitcherOptionElement = ContentSwitcherOptionElement;
    })();
  </script>
</dom-module>
