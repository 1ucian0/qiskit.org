<!--
@license
Copyright (c) 2017 The IBM Research authors. All rights reserved.
This code may only be used under the MIT style license found at https://ibmresearch.github.io/LICENSE.txt
The complete set of authors may be found at https://ibmresearch.github.io/AUTHORS.txt
The complete set of contributors may be found at https://ibmresearch.github.io/CONTRIBUTORS.txt
-->

<link rel="import" href="../../../polymer/polymer-element.html">
<link rel="import" href="../../../vaadin-control-state-mixin/vaadin-control-state-mixin.html">
<link rel="import" href="../styles/default-theme.html">
<link rel="import" href="../styles/typography.html">

<link rel="import" href="ibm-q-overflow-menu-item.html">

<dom-module id="ibm-q-overflow-menu-item">
  <template>
    <style>
      /*
      */
      :host {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        background-color: transparent;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        width: 100%;
        padding: 0;
      }

      :host([divider]) {
        border-top: 1px solid var(--light-theme-divider-color);
      }

      [part="item"] {
        font-size: 0.875rem;
        font-family: var(--ibm-q-font-family-base);
        font-weight: 400;
        width: 100%;
        height: 100%;
        border: none;
        display: inline-block;
        background-color: transparent;
        text-align: left;
        padding: .5625rem 1rem;
        cursor: pointer;
      }

      [part="item"]:focus {
        outline: 1px solid transparent;
        background-color: var(--ibm-q-overflow-menu-item-hover-color, var(--primary-color));
        color: var(--inverse-01);
      }

      :host([danger]) [part="item"]:focus {
        background-color: var(--error-color);
      }

      :host(:hover) {
        background-color: var(--ibm-q-overflow-menu-item-hover-color, var(--primary-color));
      }

      :host(:hover) [part="item"] {
        color: var(--inverse-01);
      }

      :host([danger]) {
        border-top: 1px solid var(--light-theme-divider-color);
      }

      :host([danger]:hover) {
        background-color: var(--error-color);
      }
    </style>

    <button id="item" part="item">
      <slot></slot>
    </button>

  </template>

  <script>
    (function() {
      /**
       * `<ibm-q-overflow-menu-item>` is a Web Component providing a item for overflow-menu
       * that follows the IBM Q design language.
       *
       * ```html
       * <ibm-q-overflow-menu selected="0">
       *   <ibm-q-overflow-menu-item>Stop app</ibm-q-overflow-menu-item>
       *   <ibm-q-overflow-menu-item>Restart app</ibm-q-overflow-menu-item>
       *   <ibm-q-overflow-menu-item>Rename app</ibm-q-overflow-menu-item>
       *   <ibm-q-overflow-menu-item danger>Delete app</ibm-q-overflow-menu-item>
       * </ibm-q-overflow-menu>
       * ```
       *
       * ### Styling
       *
       * The following custom properties are exposed for styling:
       *
       * | Custom property | Description | Default |
       * | :-------------- | :---------- | :------ |
       * | `--ibm-q-overflow-menu-item-hover-color` | Item hover color | `var(--primary-color` |
       *
       * @memberof IBMQ
       * @extends Polymer.Element
       * @mixes  Vaadin.ControlStateMixin
       */
      class OverflowMenuItemElement extends Vaadin.ControlStateMixin(Polymer.Element) {
        static get is() {
          return 'ibm-q-overflow-menu-item';
        }

        ready() {
          super.ready();

          this.setAttribute('role', 'menuitem');
        }

        get focusElement() {
          return this.$.item;
        }
      }

      customElements.define(OverflowMenuItemElement.is, OverflowMenuItemElement);

      /**
       * @namespace IBMQ
       */
      window.IBMQ = window.IBMQ || {};
      IBMQ.TabsElement = OverflowMenuItemElement;
    })();
  </script>
</dom-module>
