<!--
@license
Copyright (c) 2017 The IBM Research authors. All rights reserved.
This code may only be used under the MIT style license found at https://ibmresearch.github.io/LICENSE.txt
The complete set of authors may be found at https://ibmresearch.github.io/AUTHORS.txt
The complete set of contributors may be found at https://ibmresearch.github.io/CONTRIBUTORS.txt
-->

<link rel="import" href="../../../polymer/polymer-element.html">
<link rel="import" href="../../../vaadin-radio-button/vaadin-radio-button-group.html">
<link rel="import" href="../styles/default-theme.html">

<link rel="import" href="ibm-q-radio-button.html">

<!-- Reset vaadin default theme -->
<dom-module id="vaadin-radio-button-group-default-theme" theme-for="vaadin-radio-button-group"></dom-module>

<dom-module id="ibm-q-radio-group-default-theme">
  <template>
    <style>
      :host {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        margin-top: 0.375rem;
      }

      :host([invalid]) {
        box-shadow: 0 2px 0px 0px var(--error-color);
      }
    </style>
  </template>
</dom-module>

<dom-module id="ibm-q-radio-group">
  <script>
    (function() {
      /* eslint max-len: ["error", { "ignoreComments": true }] */

      /**
       * `<ibm-q-radio-group>` is a Web Component for grouping
       * `ibm-q-radio-button`'s.
       *
       * ```html
       * <ibm-q-radio-group>
       *   <ibm-q-radio-button checked>First option</ibm-q-radio-button>
       *   <ibm-q-radio-button>Second option</ibm-q-radio-button>
       *   <ibm-q-radio-button>Third option</ibm-q-radio-button>
       * </ibm-q-radio-group>
       * ```
       *
       * ### Styling
       *
       * The following attributes are exposed for styling:
       *
       * | Attribute | Description |
       * | :-------- | :---------- |
       * | `disabled` | Set when the radio button group and its children are disabled. |
       * | `invalid` | Set when the radio button group is required and submitted, but does not have value. |
       * | `required` | Set when the radio group is required for submission of the form and must have value. |
       *
       * @memberof IBMQ
       * @extends Vaadin.RadioButtonGroupElement
       * @demo components/radio-button/demo/ibm-q-radio-group.html
       */
      class RadioGroupElement extends Vaadin.RadioButtonGroupElement {
        static get is() {
          return 'ibm-q-radio-group';
        }

        _forEachButton(fn) {
          Array.from(this.children)
            .filter(child => child.localName === 'ibm-q-radio-button').forEach(fn);
        }
      }

      customElements.define(RadioGroupElement.is, RadioGroupElement);

      /**
       * @namespace IBMQ
       */
      window.IBMQ = window.IBMQ || {};
      IBMQ.RadioGroupElement = RadioGroupElement;
    })();
  </script>
</dom-module>
