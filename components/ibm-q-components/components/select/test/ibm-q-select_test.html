<!--
@license
Copyright (c) 2017 The IBM Research authors. All rights reserved.
This code may only be used under the MIT style license found at https://ibmresearch.github.io/LICENSE.txt
The complete set of authors may be found at https://ibmresearch.github.io/AUTHORS.txt
The complete set of contributors may be found at https://ibmresearch.github.io/CONTRIBUTORS.txt
-->

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>ibm-q-radio-group test</title>

    <script src="../../../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../../../web-component-tester/browser.js"></script>

    <link rel="import" href="../ibm-q-select.html">
  </head>
  <body>
    <test-fixture id="BasicTestFixture">
      <template>

        <ibm-q-select label="Select label demo">
          <option disabled selected hidden>Pick an option</option>
          <option value="solong">A much longer option that is worth having around to check how text flows</option>
          <optgroup label="Category 1">
            <option value="option1">Option 1</option>
            <option value="option2">Option 2</option>
          </optgroup>
          <optgroup label="Category 2">
            <option value="option1">Option 1</option>
            <option value="option2">Option 2</option>
          </optgroup>
        </ibm-q-select>

      </template>
    </test-fixture>

    <test-fixture id="PreValuatedTestFixture">
      <template>

        <ibm-q-select label="Select label demo" value="option2">
            <option value="option1">Option 1</option>
            <option value="option2">Option 2</option>
        </ibm-q-select>

      </template>
    </test-fixture>

    <script>
      suite('Select', function() {
        test('`ibm-q-select` changes her value correctly', () => {
          const select = fixture('BasicTestFixture');
          const nativeSelect = select.shadowRoot.querySelector('select');

          select.value = 'option2';

          assert.equal(nativeSelect.value, 'option2');
        });

        test('`ibm-q-select` has correct predefined value', () => {
          const select = fixture('PreValuatedTestFixture');
          const nativeSelect = select.shadowRoot.querySelector('select');

          assert.equal(select.value, 'option2');
          assert.equal(nativeSelect.value, 'option2');
        });

        test('label property', function() {
          const select = fixture('BasicTestFixture');
          const label = select.shadowRoot.querySelector('label');

          assert.equal(label.textContent, 'Select label demo');
        });
      });
    </script>
  </body>
</html>
